.container
  .row
    .col-lg-10.col-lg-offset-1.text-center
      %h2= t("activerecord.models.order") + t("views.index")

%section
  .container
    = paginate @orders

    %table.table
      %tr
        %th= t("activerecord.attributes.order.address")
        %th= t("activerecord.attributes.order.amount")
        %th= t("activerecord.attributes.order.time")
        %th= t("activerecord.attributes.order.keyword")
        %th= t("activerecord.attributes.order.taxis")
        %th= t("activerecord.attributes.order.assigned_at")
        %th= t("activerecord.attributes.order.picked_up_at")
        %th= t("activerecord.attributes.order.arrived_at")
        %th
      - @orders.each do |order|
        %tr
          %td= order.address
          %td= order.amount
          %td
            = order.time.strftime("%H:%M") rescue nil
          %td= order.keyword
          %td= order.taxis.first.try(:name)
          %td= order.assigned_at.strftime("%m月%d日 %H時%M分") if order.assigned_at
          %td= order.picked_up_at.strftime("%H時%M分") if order.picked_up_at
          %td= order.arrived_at.strftime("%H時%M分") if order.arrived_at
          %td
            = link_to t("links.show"), order, class: "btn btn-default btn-sm"
            = link_to t("links.edit"), edit_order_path(order), class: "btn btn-default btn-sm"
            = link_to t("links.destroy"), order, method: :delete, data: { confirm: t("messages.are_you_sure") }, class: "btn btn-default btn-sm"

    = paginate @orders
  / /.container

-# .text-center= link_to t("activerecord.models.order") + t("links.new"), new_order_path, class: "btn btn-default"
